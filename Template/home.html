{% extends "base.vue" %}
{% load i18n %}
{% block title %}home{% endblock title %}

{% block content %}
{% trans '使用' as enter %}
    {% if false %}
        <cell cell_title="{% trans '更新公告' %}">
            <p>{% trans '說明： 將於 X/X X:X 時關閉伺服器進行系統更新，系統將會停止所有正在執行中的檔案，請您不要執行過大的檔案，以免被終止，預計於 X:X 時重新啟動伺服器，感謝您的使用' %}</p>
            <a href="{% url 'update_log' %}" class="btn btn-default btn-block">{% trans '更新預覽' %}</a>
        </cell>
    {% endif %}
    <cell cell_title="DPView: Differentially Private Synthetic Dataset Generation">
        <p>{% trans '說明： 差分隱私適用於資料筆數較大的資料集，建議至少含有一萬筆紀錄且維度也會受資料筆數影響不能太高。' %}</p>
        <a href="{% url 'DPView:home' %}" class="btn btn-default btn-block">{{ enter }}</a>
    </cell>
    <cell cell_title="k-Anonymity for De-Identifying Dataset">
        <a href="{% url 't_Closeness:home' %}" class="btn btn-default btn-block">{{ enter }}</a>
    </cell>
{% endblock content %}

{% block script %}
    <script>
        page.title = "{% trans '歡迎使用本系統' %}"
    </script>

    <script>
        $(function () {
            sidebar_highlight('home');
        })
        $(function () {
            var url = "{% url 'check_file_status' %}"
            $.getJSON(url, function (request) {
                if (request == null) {
                    url = "{% url 'initialize' %}";
                    $.get(url);
                } else if (request.finish == true) {
                    url = "{% url 'file_finish' %}";
                    var data = {
                        'yes_url' : request.url,
                    }
                    post_to_url(url,data);
                } else if (request.finish == false) {
                    url = "{% url 'file_running' %}";
                    var data = {
                        'yes_url' : request.url,
                        'break_url' : request.break_url,
                    }
                    post_to_url(url,data);
                } else {
                    alert("{% trans 'home.html finish不符合預期，請通知開發人員，finish = ' %}"+request.finish);
                }
            })
        })
    </script>
{% endblock script %}